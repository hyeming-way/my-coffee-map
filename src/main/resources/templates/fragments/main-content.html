<!-- templates/fragments/main-content.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">

<head>
    <title>My Coffee Map</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/main.css}" rel="stylesheet">
</head>

<body>
<div layout:fragment="content">

    <!-- 상부：커피나무 이미지와 버튼 -->
    <section class="coffee-hero">
        <div class="position-relative text-center">
            <img src="/images/coffee_tree.jpg" alt="コーヒーの木" class="img-fluid w-100"
                 style="height: 400px; object-fit: cover; filter: brightness(60%);">

            <div class="position-absolute top-50 start-50 translate-middle text-white text-center px-3">
                <h2 class="fw-bold">あなたのコーヒーの好みは？</h2> <!-- 당신의 커피 취향은? -->
                <p class="lead">ローストとフレーバーを選ぶと、<br>ぴったりの豆とカフェをご提案します。</p>
                <!-- 로스팅과 플레이버를 선택하면 딱 맞는 원두와 카페를 제안합니다. -->
                <a th:href="@{/beans/search}" class="btn btn-outline-light btn-lg mt-3">好みを見つける</a>
                <!-- 취향을 발견하다 -->
            </div>
        </div>
    </section>

    <hr class="my-5" />

    <!-- 하단: 다른 사용자의 게시 목록 -->
    <section class="recent-posts container mt-4">
        <h3>みんなのコーヒーの好みは？</h3>
        <!-- 모두의 커피 취향은? -->
        <div class="row" th:if="${recentPosts != null and !#lists.isEmpty(recentPosts)}">
            <div class="col-md-4 mb-4" th:each="post : ${recentPosts}">
                <div class="card h-100">
                    <img th:src="${board.imageUrl}" class="card-img-top" alt="イメージ画像"
                         style="height: 180px; object-fit: cover;"
                         onerror="this.src='/images/default.png';">

                    <div class="card-body">
                        <h5 class="card-title" th:text="${board.title}">投稿タイトル</h5> <!-- 게시물 제목 -->
                        <p class="card-text"
                           style="overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;"
                           th:text="${board.content}">投稿の概要</p> <!-- 게시물 개요 -->
                    </div>

                    <div class="card-footer">
                        <small class="text-muted">
                            投稿者：<span th:text="${board.nick}"></span> |
                            <span th:text="${#temporals.format(board.createdAt, 'yyyy.MM.dd')}"></span>
                        </small>
                    </div>
                </div>
            </div>
        </div>

        <!-- 게시물이 존재하지 않는 경우 -->
        <div th:if="${recentPosts == null or #lists.isEmpty(recentPosts)}" class="text-muted text-center my-5">
            投稿はまだありません。<!-- 게시글이 아직 없습니다. -->
        </div>
    </section>

</div>
</body>
</html>
